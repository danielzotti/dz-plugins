(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var dz_menu_side_1 = require("./modules/dz-menu-side");
var menu;
$(document).ready(function () {
    menu = new dz_menu_side_1.DzMenuSide(true);
    menu.init();
});

},{"./modules/dz-menu-side":3}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DzCommon = (function () {
    function DzCommon() {
    }
    return DzCommon;
}());
DzCommon.getAttributeByName = function (name) {
    return "[" + name + "]";
};
DzCommon.existElement = function (element) {
    return (typeof element != "undefined" && element.length > 0);
};
DzCommon.existAllElements = function (selectorArray, callback) {
    if (callback === void 0) { callback = null; }
    var notFoundElements = [];
    for (var element in selectorArray) {
        var selector = selectorArray[element];
        if (typeof $(selector) == "undefined" || $(selector).length == 0) {
            notFoundElements.push(selector);
        }
    }
    if (notFoundElements.length > 0 && callback != null)
        callback(notFoundElements);
    return !(typeof notFoundElements != "undefined" && notFoundElements.length > 0);
};
DzCommon.getUrlParameterByName = function (name) {
    var url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"), results = regex.exec(url);
    if (!results)
        return null;
    if (!results[2])
        return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
};
DzCommon.getUrlHash = function () {
    return window.location.hash;
};
DzCommon.setUrlHash = function (hashValue) {
    if (hashValue === void 0) { hashValue = null; }
    if (typeof hashValue != "undefined" && hashValue != null) {
        window.location.hash = '#' + hashValue;
    }
    else {
        window.location.hash = "";
    }
};
exports.DzCommon = DzCommon;

},{}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var dz_common_1 = require("./dz-common");
var DzMenuSide = (function () {
    function DzMenuSide(isSinglePage) {
        if (isSinglePage === void 0) { isSinglePage = false; }
        var _this = this;
        this.init = function () {
            if (_this.initVariables()) {
                _this.initBindings();
            }
        };
        this.toggle = function () {
            if (!_this.existAllMandatoryElements()) {
                return;
            }
            _this.$container.toggleClass(DzMenuSide.OPEN_CLASS);
        };
        this.open = function () {
            if (!_this.existAllMandatoryElements()) {
                return;
            }
            _this.$container.addClass(DzMenuSide.OPEN_CLASS);
        };
        this.close = function () {
            _this.$container.removeClass(DzMenuSide.OPEN_CLASS);
        };
        this.onMenuItemSelected = function ($item) {
            if (_this.isSinglePage) {
                _this.$items.each(function () {
                    var $item = $(this);
                    $item.parent().removeClass(DzMenuSide.ACTIVE_CLASS);
                });
                $item.parent().addClass(DzMenuSide.ACTIVE_CLASS);
            }
            //chiudere il menu se siamo in mobile
            _this.close();
        };
        this.initVariables = function () {
            if (_this.existAllMandatoryElements()) {
                _this.$container = $(dz_common_1.DzCommon.getAttributeByName(DzMenuSide.CONTAINER));
                _this.$items = $(dz_common_1.DzCommon.getAttributeByName(DzMenuSide.ITEM));
                return true;
            }
            else {
                return false;
            }
        };
        this.initBindings = function () {
            var self = _this;
            $(dz_common_1.DzCommon.getAttributeByName(DzMenuSide.BUTTON)).on("click", function (event) {
                event.preventDefault();
                event.stopPropagation();
                self.toggle();
            });
            $(dz_common_1.DzCommon.getAttributeByName(DzMenuSide.ITEM)).on("click", function (event) {
                //event.preventDefault();
                event.stopPropagation();
                self.onMenuItemSelected($(this));
            });
        };
        this.existAllMandatoryElements = function () {
            return dz_common_1.DzCommon.existAllElements([
                dz_common_1.DzCommon.getAttributeByName(DzMenuSide.CONTAINER),
                dz_common_1.DzCommon.getAttributeByName(DzMenuSide.BUTTON),
            ], DzMenuSide.printUnexistentElements);
        };
        this.isSinglePage = isSinglePage;
    }
    return DzMenuSide;
}());
DzMenuSide.PREFIX = "dz-menu-side";
DzMenuSide.CONTAINER = DzMenuSide.PREFIX + "-container";
DzMenuSide.BUTTON = DzMenuSide.PREFIX + "-button";
DzMenuSide.ITEM = DzMenuSide.PREFIX + "-item";
DzMenuSide.OPEN_CLASS = "is-open";
DzMenuSide.ACTIVE_CLASS = "is-active";
DzMenuSide.printUnexistentElements = function (items) {
    console.error("[" + typeof DzMenuSide + "]: Some elements don't exist", items);
};
exports.DzMenuSide = DzMenuSide;
//$(document).ready(function () {
//    var psModal = new PsModal();
//    psModal.init();
//}) 

},{"./dz-common":2}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi50cyIsInNyYy9qcy9tb2R1bGVzL2R6LWNvbW1vbi50cyIsInNyYy9qcy9tb2R1bGVzL2R6LW1lbnUtc2lkZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDRUEsdURBQW9EO0FBRXBELElBQUksSUFBZ0IsQ0FBQztBQUVyQixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ2QsSUFBSSxHQUFHLElBQUkseUJBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDaEIsQ0FBQyxDQUFDLENBQUM7Ozs7O0FDVEg7SUFBQTtJQWdEQSxDQUFDO0lBQUQsZUFBQztBQUFELENBaERBLEFBZ0RDO0FBOUNpQiwyQkFBa0IsR0FBRyxVQUFDLElBQVk7SUFDNUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQzVCLENBQUMsQ0FBQTtBQUVhLHFCQUFZLEdBQUcsVUFBQyxPQUFlO0lBQ3pDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sT0FBTyxJQUFJLFdBQVcsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ2pFLENBQUMsQ0FBQTtBQUVhLHlCQUFnQixHQUFHLFVBQUMsYUFBNEIsRUFBRSxRQUEwRDtJQUExRCx5QkFBQSxFQUFBLGVBQTBEO0lBRXRILElBQUksZ0JBQWdCLEdBQWtCLEVBQUUsQ0FBQztJQUV6QyxHQUFHLENBQUMsQ0FBQyxJQUFJLE9BQU8sSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ2hDLElBQUksUUFBUSxHQUFXLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUM5QyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxXQUFXLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1B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Rm5DLGtDQUF1QixHQUFHLFVBQUMsS0FBb0I7SUFDMUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsT0FBTyxVQUFVLEdBQUcsOEJBQThCLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbkYsQ0FBQyxDQUFDO0FBckdPLGdDQUFVO0FBeUd2QixpQ0FBaUM7QUFDakMsa0NBQWtDO0FBQ2xDLHFCQUFxQjtBQUNyQixJQUFJIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIu+7vy8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2luZGV4LmQudHNcIiAvPlxyXG5pbXBvcnQgeyBEekNvbW1vbiB9IGZyb20gXCIuL21vZHVsZXMvZHotY29tbW9uXCI7XHJcbmltcG9ydCB7IER6TWVudVNpZGUgfSBmcm9tIFwiLi9tb2R1bGVzL2R6LW1lbnUtc2lkZVwiO1xyXG5cclxudmFyIG1lbnU6IER6TWVudVNpZGU7XHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xyXG4gICAgbWVudSA9IG5ldyBEek1lbnVTaWRlKHRydWUpO1xyXG4gICAgbWVudS5pbml0KCk7XHJcbn0pOyIsImV4cG9ydCBjbGFzcyBEekNvbW1vbiB7XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldEF0dHJpYnV0ZUJ5TmFtZSA9IChuYW1lOiBzdHJpbmcpOiBzdHJpbmcgPT57XG4gICAgICAgIHJldHVybiBcIltcIiArIG5hbWUgKyBcIl1cIjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHN0YXRpYyBleGlzdEVsZW1lbnQgPSAoZWxlbWVudDogSlF1ZXJ5KTogYm9vbGVhbiA9PiB7XG4gICAgICAgIHJldHVybiAodHlwZW9mIGVsZW1lbnQgIT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtZW50Lmxlbmd0aCA+IDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZXhpc3RBbGxFbGVtZW50cyA9IChzZWxlY3RvckFycmF5OiBBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogKG5vdEZvdW5kRWxlbWVudHM6IEFycmF5PHN0cmluZz4pID0+IHZvaWQgPSBudWxsKTogYm9vbGVhbiA9PiB7XG5cbiAgICAgICAgdmFyIG5vdEZvdW5kRWxlbWVudHM6IEFycmF5PHN0cmluZz4gPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBlbGVtZW50IGluIHNlbGVjdG9yQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rvcjogc3RyaW5nID0gc2VsZWN0b3JBcnJheVtlbGVtZW50XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgJChzZWxlY3RvcikgPT0gXCJ1bmRlZmluZWRcIiB8fCAkKHNlbGVjdG9yKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIG5vdEZvdW5kRWxlbWVudHMucHVzaChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdEZvdW5kRWxlbWVudHMubGVuZ3RoID4gMCAmJiBjYWxsYmFjayAhPSBudWxsKVxuICAgICAgICAgICAgY2FsbGJhY2sobm90Rm91bmRFbGVtZW50cyk7XG5cbiAgICAgICAgcmV0dXJuICEodHlwZW9mIG5vdEZvdW5kRWxlbWVudHMgIT0gXCJ1bmRlZmluZWRcIiAmJiBub3RGb3VuZEVsZW1lbnRzLmxlbmd0aCA+IDApO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VXJsUGFyYW1ldGVyQnlOYW1lID0gKG5hbWU6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJbPyZdXCIgKyBuYW1lICsgXCIoPShbXiYjXSopfCZ8I3wkKVwiKSxcbiAgICAgICAgICAgIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gICAgICAgIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICghcmVzdWx0c1syXSkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdHNbMl0ucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VXJsSGFzaCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgc2V0VXJsSGFzaCA9IChoYXNoVmFsdWU6IHN0cmluZyA9IG51bGwpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYXNoVmFsdWUgIT0gXCJ1bmRlZmluZWRcIiAmJiBoYXNoVmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIycgKyBoYXNoVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9O1xufSIsImltcG9ydCB7IER6Q29tbW9uIH0gZnJvbSBcIi4vZHotY29tbW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBEek1lbnVTaWRlIHtcblxuICAgIHByaXZhdGUgc3RhdGljIFBSRUZJWDogc3RyaW5nID0gXCJkei1tZW51LXNpZGVcIjtcbiAgICBwcml2YXRlIHN0YXRpYyBDT05UQUlORVI6IHN0cmluZyA9IER6TWVudVNpZGUuUFJFRklYICsgXCItY29udGFpbmVyXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgQlVUVE9OOiBzdHJpbmcgPSBEek1lbnVTaWRlLlBSRUZJWCArIFwiLWJ1dHRvblwiO1xuICAgIHByaXZhdGUgc3RhdGljIElURU06IHN0cmluZyA9IER6TWVudVNpZGUuUFJFRklYICsgXCItaXRlbVwiO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgT1BFTl9DTEFTUzogc3RyaW5nID0gXCJpcy1vcGVuXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgQUNUSVZFX0NMQVNTOiBzdHJpbmcgPSBcImlzLWFjdGl2ZVwiO1xuXG4gICAgcHJpdmF0ZSAkY29udGFpbmVyOiBKUXVlcnk7XG4gICAgcHJpdmF0ZSAkaXRlbXM6IEpRdWVyeTtcblxuICAgIHByaXZhdGUgaXNTaW5nbGVQYWdlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoaXNTaW5nbGVQYWdlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5pc1NpbmdsZVBhZ2UgPSBpc1NpbmdsZVBhZ2U7XG4gICAgfVxuXG4gICAgcHVibGljIGluaXQgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICh0aGlzLmluaXRWYXJpYWJsZXMoKSkge1xuICAgICAgICAgICAgdGhpcy5pbml0QmluZGluZ3MoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9nZ2xlID0gKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuZXhpc3RBbGxNYW5kYXRvcnlFbGVtZW50cygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLiRjb250YWluZXIudG9nZ2xlQ2xhc3MoRHpNZW51U2lkZS5PUEVOX0NMQVNTKTtcbiAgICB9O1xuXG4gICAgcHVibGljIG9wZW4gPSAoKSA9PiB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmV4aXN0QWxsTWFuZGF0b3J5RWxlbWVudHMoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLiRjb250YWluZXIuYWRkQ2xhc3MoRHpNZW51U2lkZS5PUEVOX0NMQVNTKTtcbiAgICB9O1xuXG4gICAgcHVibGljIGNsb3NlID0gKCkgPT4ge1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhEek1lbnVTaWRlLk9QRU5fQ0xBU1MpO1xuICAgIH07XG5cbiAgICBwdWJsaWMgb25NZW51SXRlbVNlbGVjdGVkID0gKCRpdGVtOiBKUXVlcnkpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaW5nbGVQYWdlKSB7XG5cbiAgICAgICAgICAgdGhpcy4kaXRlbXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICB2YXIgJGl0ZW0gPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgJGl0ZW0ucGFyZW50KCkucmVtb3ZlQ2xhc3MoRHpNZW51U2lkZS5BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAkaXRlbS5wYXJlbnQoKS5hZGRDbGFzcyhEek1lbnVTaWRlLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NoaXVkZXJlIGlsIG1lbnUgc2Ugc2lhbW8gaW4gbW9iaWxlXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBpbml0VmFyaWFibGVzID0gKCk6IGJvb2xlYW4gPT4ge1xuICAgICAgICBpZiAodGhpcy5leGlzdEFsbE1hbmRhdG9yeUVsZW1lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoRHpDb21tb24uZ2V0QXR0cmlidXRlQnlOYW1lKER6TWVudVNpZGUuQ09OVEFJTkVSKSk7XG4gICAgICAgICAgICB0aGlzLiRpdGVtcyA9ICQoRHpDb21tb24uZ2V0QXR0cmlidXRlQnlOYW1lKER6TWVudVNpZGUuSVRFTSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICBwcml2YXRlIGluaXRCaW5kaW5ncyA9ICgpOiB2b2lkID0+IHtcblxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIFxuICAgICAgICAkKER6Q29tbW9uLmdldEF0dHJpYnV0ZUJ5TmFtZShEek1lbnVTaWRlLkJVVFRPTikpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBzZWxmLnRvZ2dsZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKER6Q29tbW9uLmdldEF0dHJpYnV0ZUJ5TmFtZShEek1lbnVTaWRlLklURU0pKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgLy9ldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBzZWxmLm9uTWVudUl0ZW1TZWxlY3RlZCgkKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByaXZhdGUgZXhpc3RBbGxNYW5kYXRvcnlFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIER6Q29tbW9uLmV4aXN0QWxsRWxlbWVudHMoW1xuICAgICAgICAgICAgRHpDb21tb24uZ2V0QXR0cmlidXRlQnlOYW1lKER6TWVudVNpZGUuQ09OVEFJTkVSKSxcbiAgICAgICAgICAgIER6Q29tbW9uLmdldEF0dHJpYnV0ZUJ5TmFtZShEek1lbnVTaWRlLkJVVFRPTiksXG4gICAgICAgIF0sIER6TWVudVNpZGUucHJpbnRVbmV4aXN0ZW50RWxlbWVudHMpO1xuICAgIH07XG5cbiAgICBwcml2YXRlIHN0YXRpYyBwcmludFVuZXhpc3RlbnRFbGVtZW50cyA9IChpdGVtczogQXJyYXk8c3RyaW5nPikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW1wiICsgdHlwZW9mIER6TWVudVNpZGUgKyBcIl06IFNvbWUgZWxlbWVudHMgZG9uJ3QgZXhpc3RcIiwgaXRlbXMpO1xuICAgIH07XG5cbn1cblxuLy8kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4vLyAgICB2YXIgcHNNb2RhbCA9IG5ldyBQc01vZGFsKCk7XG4vLyAgICBwc01vZGFsLmluaXQoKTtcbi8vfSkiXX0=
